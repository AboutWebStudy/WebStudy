### π‘‰ JWT(JSON Web Token)λ€?

---

- μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‚¬μ©μ μΈμ¦ λ° μ •λ³΄ κµν™μ„ μ„ν• λ°©μ‹
- JWTλ” μΌλ°μ μΌλ΅ μ‚¬μ©μ μΈμ¦μ„ μ„ν•΄ μ‚¬μ©
- μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ— μ‚¬μ©μ μ •λ³΄λ¥Ό μ•μ „ν•κ² μ „μ†΅ν•λ” λ° μ‚¬μ©
    - μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μ μΈμ¦κ³Ό κ¶ν• λ¶€μ—¬λ¥Ό μν–‰ν•  μ μμ
- JWTλ” μΈμ½”λ”©λ ν•νƒλ΅ μ •λ³΄λ¥Ό μ €μ¥ν•λ©°, κΈ°λ³Έμ μΌλ΅λ” μ•”νΈν™”λμ§€ μ•μ
    - λ―Όκ°ν• μ •λ³΄λ” ν¬ν•¨ν•μ§€ μ•κ±°λ‚, ν•„μ”ν• κ²½μ° μ•”νΈν™”λ JWT(JWE)λ¥Ό μ‚¬μ©
  <br>
  <br>

### π‘‰ JWTμ κµ¬μ„± μ”μ†

---

```
Header:
{
  "alg": "HS256",
  "typ": "JWT"
}

Payload:
{
  "sub": "1234567890",
  "name": "John Doe",
  "iat": 1516239022
}

Signature:
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  your-256-bit-secret
)
```

- **Header**
    - ν† ν°μ μ ν•(JWT)κ³Ό μ„λ… μ•κ³ λ¦¬μ¦(HMAC SHA256, RSA λ“±)μ„ ν¬ν•¨
    <br>
        
- **Payload**
    - ν† ν°μ ν΄λ μ„(Claim)μΌλ΅, μ‚¬μ©μ μ •λ³΄μ™€ κ°™μ€ λ°μ΄ν„°λ¥Ό ν¬ν•¨
        - ν΄λ μ„μ€ νΉμ • μ£Όμ²΄μ— λ€ν• μ†μ„±μ„ κΈ°μ ν•λ” λ°μ΄ν„°
            
            ```
            sub : μ£Όμ²΄(subject) μ‹λ³„μ
            name : μ‚¬μ©μ μ΄λ¦„
            iat : ν† ν° λ°ν–‰ μ‹κ°„(Issued At)
            ```
            
    - μ΄ λ¶€λ¶„μ€ base64λ΅ μΈμ½”λ”© λ¨
    <br>
    
- **Signature**
    - ν† ν°μ λ¬΄κ²°μ„±μ„ λ³΄μ¥ν•κΈ° μ„ν•΄ Headerμ™€ Payloadλ¥Ό μ„λ…ν• κ²ƒ
    <br>
    
- β‡’ μ΄ μ„Έ λ¶€λ¶„μ€ μ (.)μΌλ΅ κµ¬λ¶„λμ–΄ ν•λ‚μ λ¬Έμμ—΄λ΅ κ²°ν•©
    - Header
        
        ```
        {
          "alg": "HS256",
          "typ": "JWT"
        }
        ```
        
        ```
        Base64Urlλ΅ μΈμ½”λ”©ν• κ²°κ³Ό
        
        eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
        ```
        
    - Payload
        
        ```
        {
          "sub": "1234567890",
          "name": "John Doe",
          "iat": 1516239022
        }
        ```
        
        ```
        Base64Urlλ΅ μΈμ½”λ”©ν• κ²°κ³Ό
        
        eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ
        ```
        
    - Signature
        - Headerμ™€ Payloadλ¥Ό `.` μΌλ΅ κ²°ν•©
            
            ```
            eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ
            ```
            
        - μ„ λ¬Έμμ—΄μ„ λΉ„λ°€ν‚¤μ™€ ν•¨κ» HMAC SHA256 μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•μ—¬ μ„λ…
        - λΉ„λ°€ν‚¤κ°€ your-256-bit-secretμ΄λΌκ³  κ°€μ •ν•λ©΄, μ„λ… κ²°κ³Όλ” μ•„λμ™€ κ°™μ
            
            ```
            SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
            ```
            
    - μµμΆ…μ μΌλ΅ μ΄ μ„Έ λ¬Έμμ—΄μ„ μ „λ¶€ ν•©μΉ¨
        
        ```
        eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
        ```
        <br>
        <br>
        

### π‘‰ JWT μ‚¬μ© μ΄μ 

---

- **λ¬΄μƒνƒ(Stateless) μΈμ¦**
    - JWTλ” ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ ν† ν°μ„ μ €μ¥ν•κ³  μ„λ²„κ°€ ν•΄λ‹Ή ν† ν°μ„ κ²€μ¦ν•μ—¬ μ‚¬μ©μλ¥Ό μΈμ¦
    - μ΄λ” μ„λ²„κ°€ μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•μ•„λ„ λλ―€λ΅, μ„λ²„ ν™•μ¥μ΄ μ©μ΄
    <br>
- **μ„±λ¥ ν–¥μƒ**
    - μ„Έμ… κΈ°λ° μΈμ¦μ€ μ„λ²„ λ©”λ¨λ¦¬μ— μ‚¬μ©μ μ •λ³΄λ¥Ό μ €μ¥ν•λ―€λ΅, μ„λ²„ λ¶€ν•κ°€ μ¦κ°€ν•  μ μμ
    - λ°λ©΄, JWTλ” ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ ν† ν°μ„ μ €μ¥ν•κ³  μ „μ†΅ν•λ―€λ΅ μ„λ²„ λ¶€ν•λ¥Ό μ¤„μΌ μ μμ
    <br>
- **λ‹¤μ–‘ν• ν΄λΌμ΄μ–ΈνΈ μ§€μ›**
    - JWTλ” μΏ ν‚¤κ°€ μ•„λ‹ Authorization ν—¤λ”λ¥Ό ν†µν•΄ μ „λ‹¬λλ―€λ΅, μ›Ή λΏλ§ μ•„λ‹λΌ λ¨λ°”μΌ μ•±, λ°μ¤ν¬νƒ‘ μ• ν”λ¦¬μΌ€μ΄μ… λ“± λ‹¤μ–‘ν• ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‚¬μ©ν•  μ μμ
    <br>
- **λ³΄μ•**
    - JWTλ” μ„λ…μ„ ν†µν•΄ λ¬΄κ²°μ„±μ„ λ³΄μ¥
    - ν•„μ”μ‹ μ•”νΈν™”λ¥Ό ν†µν•΄ λ°μ΄ν„°μ κΈ°λ°€μ„±μ„ λ³΄μ¥ν•  μ μμ
  <br>
  <br>

### β“ μΏ ν‚¤μ™€ μ„Έμ…μ΄ μλ”λ° JWTλ¥Ό μ‚¬μ©ν•λ” μ΄μ 

---

- μΏ ν‚¤μ™€ μ„Έμ…μ€ μ£Όλ΅ μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§(SSR)μ—μ„ μ‚¬μ©
    - SSR λ°©μ‹μ€ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— λ”°λΌ HTMLμ„ μƒμ„±ν•κ³ , λΈλΌμ°μ €μ— μ „λ‹¬(JSP, Thymeleaf)
    - μ΄λ• μ‚¬μ©μ μΈμ¦μ€ μ£Όλ΅ μΏ ν‚¤μ™€ μ„Έμ…μ„ ν†µν•΄ μ΄λ£¨μ–΄λ”¤
    - μΏ ν‚¤
        - ν΄λΌμ΄μ–ΈνΈ μΈ΅μ— μ €μ¥
        - μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ HTTP μ”μ²­/μ‘λ‹µ μ‹ μλ™μΌλ΅ μ „μ†΅
    - μ„Έμ…
        - μ„λ²„ μΈ΅μ— μ €μ¥
        - μ„Έμ… IDλ¥Ό ν΄λΌμ΄μ–ΈνΈμ μΏ ν‚¤μ— μ €μ¥ν•κ³ , μ΄ μ„Έμ… IDλ¥Ό ν†µν•΄ μ„λ²„μ—μ„ μ‚¬μ©μ μ •λ³΄λ¥Ό μ°Έμ΅°
        - μ„λ²„ λ©”λ¨λ¦¬μ— μ„Έμ… λ°μ΄ν„°λ¥Ό μ €μ¥ν•κΈ° λ•λ¬Έμ— μ‚¬μ©μ μκ°€ λ§μ•„μ§€λ©΄ μ„λ²„ λ¶€ν•κ°€ μ¦κ°€ν•  μ μμ
- μ”μ¦μ—λ” μ£Όλ΅ API μ„λ²„λ¥Ό μ‚¬μ©
    - API μ„λ²„λ” RESTful APIλ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” λ°©μ‹(ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λλ”λ§/CSR) μ‚¬μ©
    - μ„λ²„μ™€ ν™”λ©΄μ λ¶„λ¦¬
    - μ΄λ• μƒνƒλ¥Ό μ €μ¥ν•μ§€ μ•λ” λ¬΄μƒνƒ(stateless) λ°©μ‹μ΄ μΌλ°μ 
    - JWT
        - ν΄λΌμ΄μ–ΈνΈλ” λ΅κ·ΈμΈ μ‹ JWTλ¥Ό λ°κΈ‰λ°›μ•„ μ €μ¥
        - μ΄ν›„ μ”μ²­ μ‹ μ΄ ν† ν°μ„ ν—¤λ”μ— ν¬ν•¨ν•μ—¬ μ„λ²„μ— μ „μ†΅
        - μ„λ²„λ” ν† ν°μ„ κ²€μ¦ν•μ—¬ μ‚¬μ©μ μ •λ³΄λ¥Ό ν™•μΈ
- μ •λ¦¬
    - μΏ ν‚¤/μ„Έμ… λ°©μ‹ : μ„λ²„κ°€ μƒνƒ μ •λ³΄λ¥Ό μ €μ¥ν•κ³  κ΄€λ¦¬
    - JWT λ°©μ‹ : ν΄λΌμ΄μ–ΈνΈκ°€ μƒνƒ μ •λ³΄λ¥Ό ν¬ν•¨ν•λ” ν† ν°μ„ κ΄€λ¦¬ν•κ³ , μ„λ²„λ” μ”μ²­ μ‹ ν† ν° κ²€μ¦
