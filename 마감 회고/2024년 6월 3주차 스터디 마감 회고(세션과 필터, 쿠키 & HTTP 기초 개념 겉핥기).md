## 세션과 필터, 쿠키

- 질문과 답변
    
    > **🤔 질문**
    >
    >  전체적으로 세션, 필터, 쿠키에 대해서 개념 정리를 한번 더 할 수 있어서 좋은 시간이였습니다.
    >  특히 명확하게 개념을 아직 못갖고 있던 부분인 쿠키의 저장방식을 알게되었는데요, 이를 보고 요약해보았을 때 HTTP통신은 기본적으로 무상태성(Stateless)으로 통신을 하지만, 상태를 저장해야하는 경우에는 상태를 저장할 수단인 쿠키(세션)을 통해서 상태정보를 넘길 수 있다.
    >  이 때 클라이언트는 쿠키로 상태들을 저장하기에는 보안상 좋지 않으니 세션을 통해 주요 데이터를 서버에 맡기고 클라이언트는 세션ID만을 저장하는 형태로 상태를 저장하고 있다.
    > 라고 요약해보았는데 제가 이해한 바가 맞을까요?
    > 
    
    > **🤔 질문**
    >
    > 서블릿 컨텍스트를 들어보기만 했지 처음 접했는데 톰캣과, NGINX, APACHE등과 같은 WS등이 있는데 그중 톰캣에서만 지원하는 컨텍스트 형식인건가요?
    > 
    > 
    >   또 여러 개의 웹 프로젝트를 실행할 수 있다고 하셨는데 이에 대한 궁금증이 생깁니다.
    >   여러 개의 웹 프로젝트를 실행했을 때의 이점이 어느게 있나요? 이 특징이 MSA로 구축될 때 핵심 키 포인트가 되는건가요?
    > 
    >   가능하시다면 설명해주시면 감사하겠습니다!
    <br>
    
    > **🖥️ 답변**
    일단 요약은 저도 같은 개념으로 이해했기 때문에 이해한 바가 맞는 것 같습니다!
    > 
    > 
    > 아래는 질문에 대한 답변입니다.
    > 
    > 1. 해당 책에서는 기본적으로 톰캣 WAS 기준으로 작성되었습니다. 서블릿 컨텍스트는 Java EE 웹 애플리케이션에 특화된 개념으로, 톰캣과 같은 서블릿 컨테이너에서만 지원된다고 합니다. NGINX나 APACHE는 원래 웹 서버고, Java 서블릿 API를 직접적으로 지원하지 않기 때문에 서블릿 컨텍스트를 사용하지는 않습니다. 그렇기 때문에 웹 서버와 WAS는 서로 상호 보완하며 사용됩니다. 웹 서버는 주로 서블릿 컨테이너와 함께 사용해 리버스 프록시 역할을 합니다.
    > 2. 한 서버 안에서 URL에 따라 연결되는 서비스를 다르게 하면 서버의 리소스(하드웨어 자원)를 최대한 활용할 수 있습니다. 또 여러 애플리케이션을 중앙에서 관리할 수 있어, 관리자는 배포, 업데이트, 모니터링 등을 손쉽게 할 수 있다고 합니다.
    >     
    >     각 애플리케이션마다 독립된 서블릿 컨텍스트를 가지기 때문에 한 애플리케이션에서 발생하는 오류가 다른 애플리케이션에 영향을 끼치지 않기 때문에 문제 없이 사용할 수 있다고 합니다.
    >     
    > 3. MSA와는 조금 다른 관점이라고 생각됩니다. MSA는 마이크로서비스가 서로 다른 서버에 배치될 수도 있는 것인데 이런 관점에서는 톰캣에서 여러 개의 웹 애플리케이션을 띄우는 것과 다른 것으로 보입니다. 톰캣에서 여러 웹 애플리케이션을 운영하는 것이 개발과 테스트 환경에서 MSA를 모사할 수 있는 유용한 방법일 수 있다고는 합니다.

<br>
<br>

## HTTP 기초 개념 겉핥기

- 질문과 답변
    
    > **🤔 질문**
    >
    > HTTP에 대해서 좀 더 알 수 있어서 좋았습니다👍
    > 
    > 
    >   적어 놓은 것 중 '웹의 구성 요소'에 대해서 조금 더 다뤄도 좋을 것 같습니다!
    > 
    >   프록시, 캐시, 게이트웨이, 터널, 에이전트가 대략적으로는 이해 됐지만 프록시나 게이트웨이, 터널, 에이전트는 실제로 적용하는 것 자체가 잘 상상이 되지 않아서 조금 더 공부가 필요할 것 같아요
    > 
    >   혹시 아시는 게 있다면 정리해주시면 좋을 것 같고 아니면 제가 한 번 다뤄보겠습니다!
    <br>
    
    > **🖥️ 답변**
    >
    > 제가 너무 요약정리만 해놔서 설명이 좀 부족하다고 느끼셨군요
    > 
    > 
    >   일단 제가 이해한 바로 조금 더 상세하게 작성을 해보자면,
    > 
    > ## 프록시
    > 
    > 네트워크간의 보안, 캐싱, 필터링, 로드밸런싱 등의 기능을 제공한다고 합니다.
    > 
    > 각각의 예나 설명을 넣어보자면
    > 
    > - 보안 : Nginx Proxy Manager를 사용할 떄 보았던 SSL통신
    > - 캐싱 : 브라우저에서 통신요청을 중복으로 했을 때 response데이터를 첫 요청 이후에는 해당 데이터를 캐싱해 빠른 response를 하기 위한 목적
    > - 필터링 : 한글 도메인을 쳤을 때 해당 요청을 우리가 원하는 사이트로 도메인 변환시키는 기능
    > - 로드밸런싱 : 트래픽을 분산 시키기 위해 백엔드 서버를 여러개 두고 각 요청들을 여러대의 서버에 분산시켜 트래픽 분산용도
    > 
    > ## 게이트웨이
    > 
    > 서로 다른 네트워크간의 통신을 가능하게 하는 용도로
    > 
    > - http -> ftp 등과같은 서로 다른 프로토콜을 요청해야할 때 그 요청 **프로토콜을 변환**하는 역할
    > - 인터넷 <-> 사내망과 같은 **라우팅**
    > - 보안 : api요청 등을 서버에 날릴 때 게이트웨이에서 api키 발급 이후 체크, ip 화이트리스트/블랙리스트 등을 통해 1차적으로 액세스 방어등의 역할을 맡고있다고 합니다.
    > 
    > ### 프록시와 게이트웨이
    > 
    > 위에서 설명드렸던 특징을 보았을 때 보통 프록시의 경우 서버에서 지원하는 항목들을 많이 보셨을겁니다. 때문에 이는 우리가 웹 서버(Nginx, Apache)를 사용만 한다면 되지만, 게이트웨이의 경우는 보통 서버개발자가 직접 api키 발급, 프로토콜 변환, 데이터 형식 변환(JSON <-> XML), 인증 인가 등 대부분의 게이트웨이 기능을 직접 구현한다고 보면 될 것 같습니다.
    > 
    > ## 에이전트
    > 
    > 브라우저나 서버 등에서 http, https요청 등을 하기 위해서 해당 요청을 보내는 기능을 에이전트(Agent)라고 부릅니다
    > 
    > 브라우저 측의 에이전트를 예시로 들면 비동기통신으로 자주 사용하는 AJAX가 될 수 있을 것 같고,
    > 
    > 서버 측의 에이전트를 예시로 들면 우리가 스프링부트에서 사용했던 api요청을 보내는 기능 즉 RestTemplete 라이브러리를 에이전트라고 예시를 들 수 있을 것 같아요
    > 
    > 에이전트는 역할 측면에서 봤을 때 사용하는 용어로 보면 될 것 같습니다.
    > 
    > 터널은 책을 보고 좀 이해를 하고 부가설명을 드려야할거같은데 지금 책이 없는 상태라 나중에 답변 드리겠습니다...
    > 
    > 설명이 아쉽다면 더 깊게 주제를 다뤄주셔도 좋고 제가 더 해봐도 좋구요!
    >
