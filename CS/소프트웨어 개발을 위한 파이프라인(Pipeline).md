### ğŸ‘‰ íŒŒì´í”„ë¼ì¸ì´ë€?

---

- ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê°œë°œ, ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë°°í¬í•˜ëŠ” ì¼ë ¨ì˜ ë‹¨ê³„ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì—°ê²°í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì˜ë¯¸
- ê° ë‹¨ê³„ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰ë˜ë©°, ìë™í™”ë¥¼ í†µí•´ íš¨ìœ¨ì„±ê³¼ í’ˆì§ˆì„ ë†’ì„
- ì¼ë°˜ì ìœ¼ë¡œ íŒŒì´í”„ë¼ì¸ì€ CI/CD(Continuous Integration/Continuous Deployment)ì™€ ê´€ë ¨ëœ ê°œë…ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë¨
- ì‚¬ìš©í•˜ëŠ” ì´ìœ 
    - ìë™í™”ë¥¼ í†µí•´ ìˆ˜ì‘ì—…ì„ ìµœì†Œí™”í•˜ì—¬ ì‹¤ìˆ˜ë¥¼ ì¤„ì´ê³  ì¼ê´€ì„± ìœ ì§€
    - ê°œë°œë¶€í„° ë°°í¬ê¹Œì§€ì˜ ì‹œê°„ì„ ë‹¨ì¶•ì‹œì¼œ ë¹ ë¥¸ í”¼ë“œë°± ë£¨í”„ë¥¼ ì œê³µí•´ íš¨ìœ¨ì 
    - ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë°°í¬ ì „ ì• í”Œë¦¬ì¼€ì´ì…˜ í’ˆì§ˆì„ í™•ì¸í•  ìˆ˜ ìˆìŒ
    - ì—¬ëŸ¬ íŒ€ì›ì´ ë™ì‹œì— ì‘ì—…í•´ë„ ì¶©ëŒì„ ìµœì†Œí™”í•˜ë©°, ì½”ë“œ ë³€ê²½ ì‚¬í•­ì´ í•­ìƒ í†µí•©ëœ ìƒíƒœë¥¼ ìœ ì§€
    <br>
    <br>

### ğŸ‘‰ íŒŒì´í”„ë¼ì¸ì˜ ì£¼ìš” ìš”ì†Œ ë° íë¦„

---

- ì†ŒìŠ¤ ì½”ë“œ(Source Code)
    - ê°œë°œìê°€ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´, ì†ŒìŠ¤ ì½”ë“œê°€ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ(Git ë“±)ì— ì €ì¥ë¨
- ë¹Œë“œ(Build)
    - ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ê±°ë‚˜, ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰ ê°€ëŠ¥í•œ ìƒíƒœë¡œ íŒ¨í‚¤ì§•
    - ì˜ì¡´ì„± ì„¤ì¹˜, ì½”ë“œ ë³‘í•©, ë¦°íŒ…(linting) ë“±ì´ í¬í•¨ë  ìˆ˜ ìˆìŒ
- í…ŒìŠ¤íŠ¸(Test)
    - ì½”ë“œê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë‹¨ê³„
    - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test), í†µí•© í…ŒìŠ¤íŠ¸(Integration Test), UI í…ŒìŠ¤íŠ¸ ë“±ì´ ìˆ˜í–‰ë¨
- ë°°í¬ ì¤€ë¹„
    - ì‹¤ì œ ë°°í¬ ì „ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìŠ¤í…Œì´ì§• í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ë©°, ìµœì¢… ê²€í†  ë‹¨ê³„ë¥¼ ê±°ì¹¨
- ë°°í¬
    - ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìµœì¢… ì‚¬ìš©ì í™˜ê²½(í”„ë¡œë•ì…˜)ìœ¼ë¡œ ë°°í¬
    - ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŒ
- ëª¨ë‹ˆí„°ë§ ë° í”¼ë“œë°±
    - ë°°í¬ í›„ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•˜ë©°, ì˜¤ë¥˜ë¥¼ ì¶”ì í•˜ê³  ê°œì„  ì‚¬í•­ì„ ë°˜ì˜
    <br>
    <br>

### ğŸ‘‰ CI/CDì™€ì˜ ì—°ê´€ì„±

---

- CI(Continuous Integration)
    - ì½”ë“œê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¹Œë“œì™€ í…ŒìŠ¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì‹¤í–‰í•´, í†µí•© ë¬¸ì œë¥¼ ì¡°ê¸°ì— ë°œê²¬
- CD(Continuous Deployment)
    - í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•œ ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ë°°í¬í•˜ì—¬ ì‚¬ìš©ìì—ê²Œ ë¹ ë¥´ê²Œ ì „ë‹¬
    <br>
    <br>

### ğŸ‘‰ íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•˜ëŠ” ë„êµ¬ì™€ ê¸°ìˆ 

---

- CI/CD ë„êµ¬ : Jenkins, GitHub Actions, GitLab CI/CD, CircleCI, Travis CI ë“±
- ë°°í¬ ë„êµ¬ : Docker, Kubernetes, Terraform ë“±
- ëª¨ë‹ˆí„°ë§ ë„êµ¬: Prometheus, Grafana, New Relic ë“±
<br>
<br>

### ğŸ‘‰ íŒŒì´í”„ë¼ì¸ íë¦„

---

- ê°œë°œìê°€ Gitì— ì½”ë“œë¥¼ ì»¤ë°‹ â†’ í‘¸ì‰¬
- CI ë„êµ¬ê°€ ì½”ë“œë¥¼ ê°€ì ¸ì™€ ì»´íŒŒì¼ ë° íŒ¨í‚¤ì§•í•˜ë©° ìë™ìœ¼ë¡œ ë¹Œë“œ ì§„í–‰
- í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìë™ìœ¼ë¡œ ì‹¤í–‰
- í…ŒìŠ¤íŠ¸ ì„±ê³µ ì‹œ ìŠ¤í…Œì´ì§• í˜¹ì€ í”„ë¡œë•ì…˜ í™˜ê²½ìœ¼ë¡œ ë°°í¬
- ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ë°°í¬ ì´í›„ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  ë¡œê·¸ë¥¼ ë¶„ì„
<br>
<br>

### ğŸ‘‰ Github Actions íŒŒì´í”„ë¼ì¸ ì˜ˆì œ

---

```yaml
# .github/workflows/ci-cd.yml
name: CI/CD Pipeline with Monitoring

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v3

      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 16

      - name: Install Dependencies
        run: npm install

      - name: Run Tests
        run: npm test

      - name: Build Project
        run: npm run build

  deploy:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to Production
        run: |
          echo "Deploying to production..."
          scp -r ./dist user@production-server:/var/www/html

      - name: Notify via Slack
        uses: slackapi/slack-github-action@v1.23.0
        with:
          slack-bot-token: ${{ secrets.SLACK_BOT_TOKEN }}
          channel-id: 'C12345678'
          text: "Deployment to production is complete!"

  monitor:
    needs: deploy
    runs-on: ubuntu-latest
    steps:
      - name: Monitor Application Health
        run: |
          curl -f http://production-server/health || exit 1
          echo "Health check passed!"

      - name: Check Metrics with Prometheus
        run: |
          curl -f http://prometheus-server/api/v1/query?query=up{job="my-app"} || exit 1
          echo "Prometheus metrics are OK!"

```

- on : íŠ¸ë¦¬ê±°ë¥¼ ì •ì˜ (push, pull_request ë“±)
- jobs : ì‹¤í–‰í•  ì‘ì—…ë“¤ì„ ì •ì˜
- steps : ê° ì‘ì—… ì•ˆì—ì„œ ì‹¤í–‰í•  ë‹¨ê³„ë¥¼ ì •ì˜
- runs-on : íŒŒì´í”„ë¼ì¸ì´ ì‹¤í–‰ë˜ëŠ” í™˜ê²½ (ubuntu-latest, windows-latest ë“±)
<br>
<br>

### ğŸ‘‰ Jenkins íŒŒì´í”„ë¼ì¸ ì˜ˆì œ

---

- Jenkinsì—ì„œëŠ” Declarative Pipeline(ì„ ì–¸í˜• íŒŒì´í”„ë¼ì¸)ê³¼ Scripted Pipeline(ìŠ¤í¬ë¦½íŠ¸í˜• íŒŒì´í”„ë¼ì¸) ë‘ ê°€ì§€ ë¬¸ë²•ì´ ìˆëŠ”ë°, ì˜ˆì œëŠ” Declarative Pipeline

```groovy
pipeline {
    agent any

    environment {
        GRAFANA_API_KEY = credentials('grafana-api-key')
        SLACK_CHANNEL = '#deployment'
    }

    stages {
        stage('Checkout Code') {
            steps {
                checkout scm
            }
        }

        stage('Build') {
            steps {
                sh 'mvn clean package'
            }
        }

        stage('Test') {
            steps {
                sh 'mvn test'
            }
        }

        stage('Deploy') {
            when {
                branch 'main'
            }
            steps {
                sh 'scp target/my-app.jar user@production-server:/path/to/deploy'
            }
        }

        stage('Monitor Application') {
            steps {
                script {
                    def healthCheck = sh(script: "curl -f http://production-server/health || exit 1", returnStatus: true)
                    if (healthCheck != 0) {
                        error "Health check failed!"
                    }
                }
            }
        }

        stage('Check Grafana Dashboard') {
            steps {
                script {
                    def grafanaResponse = sh(script: """
                      curl -H "Authorization: Bearer ${GRAFANA_API_KEY}" \
                      http://grafana-server/api/dashboards/uid/my-dashboard || exit 1
                    """, returnStatus: true)
                    if (grafanaResponse != 0) {
                        error "Grafana monitoring failed!"
                    }
                }
            }
        }
    }

    post {
        always {
            echo 'Pipeline execution completed!'
        }
        success {
            slackSend channel: SLACK_CHANNEL, message: 'Deployment and monitoring successful!'
        }
        failure {
            slackSend channel: SLACK_CHANNEL, message: 'Pipeline failed. Check Jenkins logs.'
        }
    }
}

```

- pipeline : ì „ì²´ íŒŒì´í”„ë¼ì¸ ì •ì˜
- agent : ì‘ì—… ì‹¤í–‰ í™˜ê²½ (any, docker ë“±)
- stages : ì‘ì—… ë‹¨ê³„ë¥¼ ì •ì˜
- steps : ê° ë‹¨ê³„ì—ì„œ ì‹¤í–‰í•  ëª…ë ¹ì–´
- post : ë¹Œë“œ ì™„ë£Œ í›„ ì‹¤í–‰í•  ì‘ì—… (always, success, failure)
<br>
<br>

### ğŸ‘‰ GitLab CI/CD íŒŒì´í”„ë¼ì¸ ì˜ˆì œ

---

```yaml
# .gitlab-ci.yml
stages:
  - build
  - test
  - deploy
  - monitor

variables:
  NODE_ENV: production
  PROMETHEUS_QUERY: 'up{job="my-app"}'
  PROMETHEUS_URL: 'http://prometheus-server/api/v1/query'
  SLACK_WEBHOOK: $SLACK_WEBHOOK_URL # Slack Webhookì€ GitLab Secretì— ì €ì¥

# Build Stage
build:
  stage: build
  script:
    - echo "Installing dependencies..."
    - npm install
    - echo "Building application..."
    - npm run build
  artifacts:
    paths:
      - dist/

# Test Stage
test:
  stage: test
  script:
    - echo "Running tests..."
    - npm test

# Deploy Stage
deploy:
  stage: deploy
  only:
    - main
  script:
    - echo "Deploying application to production..."
    - scp -r dist/ user@production-server:/var/www/html
  environment:
    name: production
    url: http://production-server

# Monitor Stage
monitor_health:
  stage: monitor
  script:
    - echo "Checking application health..."
    - curl -f http://production-server/health || exit 1
    - echo "Health check passed!"

monitor_metrics:
  stage: monitor
  script:
    - echo "Checking Prometheus metrics..."
    - response=$(curl -s "${PROMETHEUS_URL}?query=${PROMETHEUS_QUERY}")
    - echo "Response: $response"
    - echo "$response" | grep '"status":"success"' || exit 1
    - echo "Prometheus metrics are healthy!"

notify_slack:
  stage: monitor
  script:
    - echo "Sending deployment and monitoring status to Slack..."
    - curl -X POST -H 'Content-type: application/json' --data '{
        "text": "Deployment and monitoring completed successfully!"
      }' $SLACK_WEBHOOK
```

- stages : íŒŒì´í”„ë¼ì¸ì˜ ì‘ì—… ë‹¨ê³„ ì •ì˜
- variables : íŒŒì´í”„ë¼ì¸ ì „ì²´ì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜ ì •ì˜
- script : ê° ë‹¨ê³„ì—ì„œ ì‹¤í–‰í•  ëª…ë ¹ì–´
- artifacts : ë¹Œë“œ ê²°ê³¼ë¬¼ì„ ì €ì¥
- only : íŠ¹ì • ì¡°ê±´ì—ì„œë§Œ ì‹¤í–‰ (main ë¸Œëœì¹˜ ë“±)
<br>
<br>

### ğŸ‘‰ ë„êµ¬ë³„ íŒŒì´í”„ë¼ì¸ ì •ë¦¬

---

| ë„êµ¬ | íŒŒì¼ëª… | ì£¼ìš” íŠ¸ë¦¬ê±° | í™˜ê²½ ì„¤ì • | ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ |
| --- | --- | --- | --- | --- |
| Github Actions | .github/workflows/*.yml | push, pull_request | runs-on | YAML |
| Jenkins | Jenkinsfile | Git ì´ë²¤íŠ¸, ìŠ¤ì¼€ì¤„ë§ | agent | Groovy |
| GitLab CI/CD | .gitlab-ci.yml | Git ì´ë²¤íŠ¸ | stages | YAML |
